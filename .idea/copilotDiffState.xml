<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SOLUCION_DEFINITIVA.bat">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SOLUCION_DEFINITIVA.bat" />
              <option name="updatedContent" value="@echo off&#10;echo ==========================================&#10;echo SOLUCION DEFINITIVA - ERROR GRADLE TASKS&#10;echo ==========================================&#10;cd /d &quot;%~dp0&quot;&#10;&#10;echo.&#10;echo Este script resolvera: &quot;Unable to find Gradle tasks to build&quot;&#10;echo.&#10;pause&#10;&#10;echo.&#10;echo [1/8] Cerrando Android Studio si esta abierto...&#10;echo Por favor, CIERRA Android Studio ahora si esta abierto.&#10;echo.&#10;pause&#10;&#10;echo.&#10;echo [2/8] Deteniendo procesos de Gradle...&#10;call gradlew.bat --stop&#10;timeout /t 3 /nobreak &gt; nul&#10;&#10;echo.&#10;echo [3/8] Eliminando cache del proyecto...&#10;if exist .gradle rmdir /s /q .gradle&#10;if exist .idea rmdir /s /q .idea&#10;if exist .kotlin rmdir /s /q .kotlin&#10;if exist build rmdir /s /q build&#10;if exist app\build rmdir /s /q app\build&#10;&#10;echo.&#10;echo [4/8] Eliminando archivos de configuracion del IDE...&#10;if exist *.iml del /q *.iml&#10;if exist app\*.iml del /q app\*.iml&#10;&#10;echo.&#10;echo [5/8] Limpiando con Gradle...&#10;call gradlew.bat clean&#10;&#10;echo.&#10;echo [6/8] Verificando estructura del proyecto...&#10;call gradlew.bat projects&#10;&#10;echo.&#10;echo [7/8] Listando tareas disponibles...&#10;call gradlew.bat tasks&#10;&#10;echo.&#10;echo [8/8] Compilando el proyecto...&#10;call gradlew.bat assembleDebug&#10;&#10;echo.&#10;echo ==========================================&#10;echo COMPLETADO!&#10;echo ==========================================&#10;echo.&#10;echo Ahora ABRE Android Studio y:&#10;echo 1. Abre este proyecto&#10;echo 2. File ^&gt; Sync Project with Gradle Files&#10;echo 3. Build ^&gt; Rebuild Project&#10;echo.&#10;echo El error deberia estar resuelto.&#10;echo ==========================================&#10;pause&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/auth/SplashActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/auth/SplashActivity.kt" />
              <option name="updatedContent" value="package com.example.appcolegios.auth&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.os.Handler&#10;import android.os.Looper&#10;import android.view.animation.Animation&#10;import android.view.animation.AnimationUtils&#10;import android.widget.ImageView&#10;import androidx.appcompat.app.AppCompatActivity&#10;import com.example.appcolegios.R&#10;&#10;class SplashActivity : AppCompatActivity() {&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_splash)&#10;&#10;        // Animación de fade in para el logo&#10;        val logoView: ImageView = findViewById(R.id.splashLogo)&#10;        val fadeIn: Animation = AnimationUtils.loadAnimation(this, R.anim.fade_in)&#10;        logoView.startAnimation(fadeIn)&#10;&#10;        // Al terminar la animación, iniciar LoginActivity&#10;        fadeIn.setAnimationListener(object : Animation.AnimationListener {&#10;            override fun onAnimationStart(animation: Animation) {}&#10;            override fun onAnimationRepeat(animation: Animation) {}&#10;            override fun onAnimationEnd(animation: Animation) {&#10;                // Retardo breve antes de iniciar&#10;                Handler(Looper.getMainLooper()).postDelayed({&#10;                    startActivity(Intent(this@SplashActivity, com.example.appcolegios.auth.LoginActivity::class.java))&#10;                    finish()&#10;                }, 300)&#10;            }&#10;        })&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/data/model/Models.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/data/model/Models.kt" />
              <option name="originalContent" value="@file:Suppress(&quot;unused&quot;) // Suprime warnings de modelos aún no referenciados (Guardian, enums y constantes) conservándolos para futuras funcionalidades&#10;&#10;package com.example.appcolegios.data.model&#10;&#10;import com.google.firebase.firestore.DocumentId&#10;import java.util.Date&#10;&#10;data class Student(&#10;    val id: String,&#10;    val nombre: String,&#10;    val curso: String,&#10;    val grupo: String,&#10;    val numeroLista: Int,&#10;    val correoInstitucional: String,&#10;    val eps: String,&#10;    val estadoMatricula: String,&#10;    val promedio: Double,&#10;    val avatarUrl: String? = null&#10;)&#10;&#10;data class Guardian(&#10;    val id: String,&#10;    val nombre: String,&#10;    val telefono: String,&#10;    val parentesco: String&#10;)&#10;&#10;data class Grade(&#10;    val materiaId: String,&#10;    val materia: String,&#10;    val periodo: Int,&#10;    val calificacion: Double,&#10;    val ponderacion: Double&#10;)&#10;&#10;data class AttendanceEntry(&#10;    val fecha: Date,&#10;    val estado: AttendanceStatus&#10;)&#10;&#10;enum class AttendanceStatus {&#10;    PRESENTE, AUSENTE, TARDE&#10;}&#10;&#10;data class Homework(&#10;    val id: String,&#10;    val materia: String,&#10;    val titulo: String,&#10;    val descripcion: String,&#10;    val deadline: Date,&#10;    val progreso: Float,&#10;    val completada: Boolean&#10;)&#10;&#10;data class Notification(&#10;    @DocumentId val id: String = &quot;&quot;,&#10;    val titulo: String = &quot;&quot;,&#10;    val cuerpo: String = &quot;&quot;,&#10;    val remitente: String = &quot;&quot;,&#10;    val fechaHora: Date = Date(0),&#10;    val avatarUrl: String? = null,&#10;    val leida: Boolean = false&#10;)&#10;&#10;data class Message(&#10;    val id: String = &quot;&quot;,&#10;    val fromId: String = &quot;&quot;,&#10;    val toId: String = &quot;&quot;,&#10;    val texto: String = &quot;&quot;,&#10;    val fechaHora: Date = Date(0),&#10;    val tipo: MessageType = MessageType.TEXTO,&#10;    val estado: MessageStatus = MessageStatus.ENVIADO&#10;)&#10;&#10;enum class MessageType {&#10;    TEXTO, IMAGEN&#10;}&#10;&#10;enum class MessageStatus {&#10;    ENVIADO, ENTREGADO, LEIDO&#10;}&#10;&#10;data class Event(&#10;    val id: String,&#10;    val titulo: String,&#10;    val fechaHora: Date,&#10;    val categoria: EventCategory,&#10;    val descripcion: String,&#10;    val icon: String? = null&#10;)&#10;&#10;enum class EventCategory {&#10;    ACADEMICO, ADMINISTRATIVO&#10;}&#10;&#10;enum class TransportMode {&#10;    A_PIE, BICICLETA, PUBLICO, PARTICULAR&#10;}&#10;&#10;enum class ArrivalStatus {&#10;    EN_CAMINO, LLEGADO&#10;}&#10;" />
              <option name="updatedContent" value="@file:Suppress(&quot;unused&quot;) // Suprime warnings de modelos aún no referenciados (Guardian, enums y constantes) conservándolos para futuras funcionalidades&#13;&#10;&#13;&#10;package com.example.appcolegios.data.model&#13;&#10;&#13;&#10;import com.google.firebase.firestore.DocumentId&#13;&#10;import java.util.Date&#13;&#10;&#13;&#10;data class Student(&#13;&#10;    val id: String = &quot;&quot;,&#13;&#10;    val nombre: String = &quot;&quot;,&#13;&#10;    val curso: String = &quot;&quot;,&#13;&#10;    val grupo: String = &quot;&quot;,&#13;&#10;    val numeroLista: Int = 0,&#13;&#10;    val correoInstitucional: String = &quot;&quot;,&#13;&#10;    val eps: String = &quot;&quot;,&#13;&#10;    val estadoMatricula: String = &quot;&quot;,&#13;&#10;    val promedio: Double = 0.0,&#13;&#10;    val avatarUrl: String? = null&#13;&#10;)&#13;&#10;&#13;&#10;data class Guardian(&#13;&#10;    val id: String,&#13;&#10;    val nombre: String,&#13;&#10;    val telefono: String,&#13;&#10;    val parentesco: String&#13;&#10;)&#13;&#10;&#13;&#10;data class Grade(&#13;&#10;    val materiaId: String,&#13;&#10;    val materia: String,&#13;&#10;    val periodo: Int,&#13;&#10;    val calificacion: Double,&#13;&#10;    val ponderacion: Double&#13;&#10;)&#13;&#10;&#13;&#10;data class AttendanceEntry(&#13;&#10;    val fecha: Date,&#13;&#10;    val estado: AttendanceStatus&#13;&#10;)&#13;&#10;&#13;&#10;enum class AttendanceStatus {&#13;&#10;    PRESENTE, AUSENTE, TARDE&#13;&#10;}&#13;&#10;&#13;&#10;data class Homework(&#13;&#10;    val id: String,&#13;&#10;    val materia: String,&#13;&#10;    val titulo: String,&#13;&#10;    val descripcion: String,&#13;&#10;    val deadline: Date,&#13;&#10;    val progreso: Float,&#13;&#10;    val completada: Boolean&#13;&#10;)&#13;&#10;&#13;&#10;data class Notification(&#13;&#10;    @DocumentId val id: String = &quot;&quot;,&#13;&#10;    val titulo: String = &quot;&quot;,&#13;&#10;    val cuerpo: String = &quot;&quot;,&#13;&#10;    val remitente: String = &quot;&quot;,&#13;&#10;    val fechaHora: Date = Date(0),&#13;&#10;    val avatarUrl: String? = null,&#13;&#10;    val leida: Boolean = false&#13;&#10;)&#13;&#10;&#13;&#10;data class Message(&#13;&#10;    val id: String = &quot;&quot;,&#13;&#10;    val fromId: String = &quot;&quot;,&#13;&#10;    val toId: String = &quot;&quot;,&#13;&#10;    val texto: String = &quot;&quot;,&#13;&#10;    val fechaHora: Date = Date(0),&#13;&#10;    val tipo: MessageType = MessageType.TEXTO,&#13;&#10;    val estado: MessageStatus = MessageStatus.ENVIADO&#13;&#10;)&#13;&#10;&#13;&#10;enum class MessageType {&#13;&#10;    TEXTO, IMAGEN&#13;&#10;}&#13;&#10;&#13;&#10;enum class MessageStatus {&#13;&#10;    ENVIADO, ENTREGADO, LEIDO&#13;&#10;}&#13;&#10;&#13;&#10;data class Event(&#13;&#10;    val id: String,&#13;&#10;    val titulo: String,&#13;&#10;    val fechaHora: Date,&#13;&#10;    val categoria: EventCategory,&#13;&#10;    val descripcion: String,&#13;&#10;    val icon: String? = null&#13;&#10;)&#13;&#10;&#13;&#10;enum class EventCategory {&#13;&#10;    ACADEMICO, ADMINISTRATIVO&#13;&#10;}&#13;&#10;&#13;&#10;enum class TransportMode {&#13;&#10;    A_PIE, BICICLETA, PUBLICO, PARTICULAR&#13;&#10;}&#13;&#10;&#13;&#10;enum class ArrivalStatus {&#13;&#10;    EN_CAMINO, LLEGADO&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/ui/AnimatedMaterialButton.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/ui/AnimatedMaterialButton.kt" />
              <option name="updatedContent" value="package com.example.appcolegios.ui&#10;&#10;import android.content.Context&#10;import android.util.AttributeSet&#10;import android.view.MotionEvent&#10;import com.google.android.material.button.MaterialButton&#10;&#10;class AnimatedMaterialButton @JvmOverloads constructor(&#10;    context: Context,&#10;    attrs: AttributeSet? = null,&#10;    defStyleAttr: Int = com.google.android.material.R.attr.materialButtonStyle&#10;) : MaterialButton(context, attrs, defStyleAttr) {&#10;&#10;    override fun onTouchEvent(event: MotionEvent): Boolean {&#10;        when (event.action) {&#10;            MotionEvent.ACTION_DOWN -&gt; {&#10;                this.animate().scaleX(0.97f).scaleY(0.97f).setDuration(50).start()&#10;            }&#10;            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {&#10;                this.animate().scaleX(1f).scaleY(1f).setDuration(50).start()&#10;            }&#10;        }&#10;        return super.onTouchEvent(event)&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/anim/fade_in.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/anim/fade_in.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;alpha xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:duration=&quot;300&quot;&#10;    android:fromAlpha=&quot;0.0&quot;&#10;    android:toAlpha=&quot;1.0&quot; /&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_attendance.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_attendance.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;@color/background&quot;&gt;&#10;&#10;    &lt;!-- Toolbar/Header --&gt;&#10;    &lt;com.google.android.material.appbar.AppBarLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:background=&quot;@color/primary&quot;&gt;&#10;&#10;        &lt;androidx.appcompat.widget.Toolbar&#10;            android:id=&quot;@+id/toolbar&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;?attr/actionBarSize&quot;&#10;            android:background=&quot;@color/primary&quot;&#10;            app:title=&quot;@string/attendance&quot;&#10;            app:titleTextColor=&quot;@color/on_primary&quot; /&gt;&#10;&#10;    &lt;/com.google.android.material.appbar.AppBarLayout&gt;&#10;&#10;    &lt;!-- Card con resumen de asistencia --&gt;&#10;    &lt;com.google.android.material.card.MaterialCardView&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        app:cardBackgroundColor=&quot;@color/surface&quot;&#10;        app:cardElevation=&quot;4dp&quot;&#10;        app:cardCornerRadius=&quot;16dp&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:orientation=&quot;vertical&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:padding=&quot;16dp&quot;&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Porcentaje de asistencia&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textColor=&quot;@color/on_surface_variant&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/attendancePercentageText&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;95%&quot;&#10;                android:textSize=&quot;32sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:textColor=&quot;@color/primary&quot;&#10;                android:layout_marginTop=&quot;8dp&quot; /&gt;&#10;&#10;            &lt;!-- Leyenda --&gt;&#10;            &lt;LinearLayout&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;✅ Presente&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:layout_marginEnd=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;❌ Ausente&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:layout_marginEnd=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;⚠️ Tarde&quot;&#10;                    android:textSize=&quot;14sp&quot; /&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;&#10;    &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;    &lt;!-- Selector de mes --&gt;&#10;    &lt;LinearLayout&#10;        android:orientation=&quot;horizontal&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:gravity=&quot;center&quot;&#10;        android:padding=&quot;8dp&quot;&gt;&#10;&#10;        &lt;com.google.android.material.button.MaterialButton&#10;            android:id=&quot;@+id/previousMonthButton&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;◀&quot;&#10;            style=&quot;@style/Widget.Material3.Button.TextButton&quot; /&gt;&#10;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/currentMonthText&quot;&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_weight=&quot;1&quot;&#10;            android:text=&quot;Octubre 2025&quot;&#10;            android:textSize=&quot;18sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;@color/on_background&quot;&#10;            android:gravity=&quot;center&quot; /&gt;&#10;&#10;        &lt;com.google.android.material.button.MaterialButton&#10;            android:id=&quot;@+id/nextMonthButton&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;▶&quot;&#10;            style=&quot;@style/Widget.Material3.Button.TextButton&quot; /&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&#10;    &lt;!-- RecyclerView para días --&gt;&#10;    &lt;androidx.recyclerview.widget.RecyclerView&#10;        android:id=&quot;@+id/attendanceRecyclerView&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;0dp&quot;&#10;        android:layout_weight=&quot;1&quot;&#10;        android:padding=&quot;8dp&quot;&#10;        android:clipToPadding=&quot;false&quot; /&gt;&#10;&#10;    &lt;!-- Progress bar --&gt;&#10;    &lt;ProgressBar&#10;        android:id=&quot;@+id/progressBar&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_gravity=&quot;center&quot;&#10;        android:visibility=&quot;gone&quot; /&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#13;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#13;&#10;    android:orientation=&quot;vertical&quot;&#13;&#10;    android:layout_width=&quot;match_parent&quot;&#13;&#10;    android:layout_height=&quot;match_parent&quot;&#13;&#10;    android:background=&quot;@color/background&quot;&gt;&#13;&#10;&#13;&#10;    &lt;!-- Toolbar/Header --&gt;&#13;&#10;    &lt;com.google.android.material.appbar.AppBarLayout&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;wrap_content&quot;&#13;&#10;        android:background=&quot;@color/primary&quot;&gt;&#13;&#10;&#13;&#10;        &lt;androidx.appcompat.widget.Toolbar&#13;&#10;            android:id=&quot;@+id/toolbar&quot;&#13;&#10;            android:layout_width=&quot;match_parent&quot;&#13;&#10;            android:layout_height=&quot;?attr/actionBarSize&quot;&#13;&#10;            android:background=&quot;@color/primary&quot;&#13;&#10;            app:title=&quot;@string/attendance&quot;&#13;&#10;            app:titleTextColor=&quot;@color/on_primary&quot; /&gt;&#13;&#10;&#13;&#10;    &lt;/com.google.android.material.appbar.AppBarLayout&gt;&#13;&#10;&#13;&#10;    &lt;!-- Card con resumen de asistencia --&gt;&#13;&#10;    &lt;com.google.android.material.card.MaterialCardView&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;wrap_content&quot;&#13;&#10;        android:layout_margin=&quot;16dp&quot;&#13;&#10;        app:cardBackgroundColor=&quot;@color/surface&quot;&#13;&#10;        app:cardElevation=&quot;4dp&quot;&#13;&#10;        app:cardCornerRadius=&quot;16dp&quot;&gt;&#13;&#10;&#13;&#10;        &lt;LinearLayout&#13;&#10;            android:orientation=&quot;vertical&quot;&#13;&#10;            android:layout_width=&quot;match_parent&quot;&#13;&#10;            android:layout_height=&quot;wrap_content&quot;&#13;&#10;            android:padding=&quot;16dp&quot;&gt;&#13;&#10;&#13;&#10;            &lt;TextView&#13;&#10;                android:layout_width=&quot;wrap_content&quot;&#13;&#10;                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                android:text=&quot;Porcentaje de asistencia&quot;&#13;&#10;                android:textSize=&quot;16sp&quot;&#13;&#10;                android:textColor=&quot;@color/on_surface_variant&quot; /&gt;&#13;&#10;&#13;&#10;            &lt;TextView&#13;&#10;                android:id=&quot;@+id/attendancePercentageText&quot;&#13;&#10;                android:layout_width=&quot;wrap_content&quot;&#13;&#10;                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                android:text=&quot;95%&quot;&#13;&#10;                android:textSize=&quot;32sp&quot;&#13;&#10;                android:textStyle=&quot;bold&quot;&#13;&#10;                android:textColor=&quot;@color/primary&quot;&#13;&#10;                android:layout_marginTop=&quot;8dp&quot; /&gt;&#13;&#10;&#13;&#10;            &lt;!-- Leyenda --&gt;&#13;&#10;            &lt;LinearLayout&#13;&#10;                android:orientation=&quot;horizontal&quot;&#13;&#10;                android:layout_width=&quot;match_parent&quot;&#13;&#10;                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                android:layout_marginTop=&quot;16dp&quot;&gt;&#13;&#10;&#13;&#10;                &lt;TextView&#13;&#10;                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:text=&quot;✅ Presente&quot;&#13;&#10;                    android:textSize=&quot;14sp&quot;&#13;&#10;                    android:layout_marginEnd=&quot;16dp&quot; /&gt;&#13;&#10;&#13;&#10;                &lt;TextView&#13;&#10;                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:text=&quot;❌ Ausente&quot;&#13;&#10;                    android:textSize=&quot;14sp&quot;&#13;&#10;                    android:layout_marginEnd=&quot;16dp&quot; /&gt;&#13;&#10;&#13;&#10;                &lt;TextView&#13;&#10;                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:text=&quot;⚠️ Tarde&quot;&#13;&#10;                    android:textSize=&quot;14sp&quot; /&gt;&#13;&#10;&#13;&#10;            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;    &lt;/com.google.android.material.card.MaterialCardView&gt;&#13;&#10;&#13;&#10;    &lt;!-- Selector de mes --&gt;&#13;&#10;    &lt;LinearLayout&#13;&#10;        android:orientation=&quot;horizontal&quot;&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;wrap_content&quot;&#13;&#10;        android:gravity=&quot;center&quot;&#13;&#10;        android:padding=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;        &lt;com.example.appcolegios.ui.AnimatedMaterialButton&#13;&#10;            android:id=&quot;@+id/previousMonthButton&quot;&#13;&#10;            android:layout_width=&quot;wrap_content&quot;&#13;&#10;            android:layout_height=&quot;wrap_content&quot;&#13;&#10;            android:text=&quot;◀&quot;&#13;&#10;            style=&quot;@style/Widget.Material3.Button.TextButton&quot; /&gt;&#13;&#10;&#13;&#10;        &lt;TextView&#13;&#10;            android:id=&quot;@+id/currentMonthText&quot;&#13;&#10;            android:layout_width=&quot;0dp&quot;&#13;&#10;            android:layout_height=&quot;wrap_content&quot;&#13;&#10;            android:layout_weight=&quot;1&quot;&#13;&#10;            android:text=&quot;Octubre 2025&quot;&#13;&#10;            android:textSize=&quot;18sp&quot;&#13;&#10;            android:textStyle=&quot;bold&quot;&#13;&#10;            android:textColor=&quot;@color/on_background&quot;&#13;&#10;            android:gravity=&quot;center&quot; /&gt;&#13;&#10;&#13;&#10;        &lt;com.example.appcolegios.ui.AnimatedMaterialButton&#13;&#10;            android:id=&quot;@+id/nextMonthButton&quot;&#13;&#10;            android:layout_width=&quot;wrap_content&quot;&#13;&#10;            android:layout_height=&quot;wrap_content&quot;&#13;&#10;            android:text=&quot;▶&quot;&#13;&#10;            style=&quot;@style/Widget.Material3.Button.TextButton&quot; /&gt;&#13;&#10;&#13;&#10;    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;    &lt;!-- RecyclerView para días --&gt;&#13;&#10;    &lt;androidx.recyclerview.widget.RecyclerView&#13;&#10;        android:id=&quot;@+id/attendanceRecyclerView&quot;&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;0dp&quot;&#13;&#10;        android:layout_weight=&quot;1&quot;&#13;&#10;        android:padding=&quot;8dp&quot;&#13;&#10;        android:clipToPadding=&quot;false&quot; /&gt;&#13;&#10;&#13;&#10;    &lt;!-- Progress bar --&gt;&#13;&#10;    &lt;ProgressBar&#13;&#10;        android:id=&quot;@+id/progressBar&quot;&#13;&#10;        android:layout_width=&quot;wrap_content&quot;&#13;&#10;        android:layout_height=&quot;wrap_content&quot;&#13;&#10;        android:layout_gravity=&quot;center&quot;&#13;&#10;        android:visibility=&quot;gone&quot; /&gt;&#13;&#10;&#13;&#10;&lt;/LinearLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/pagos/PaymentsScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/appcolegios/pagos/PaymentsScreen.kt" />
              <option name="originalContent" value="package com.example.appcolegios.pagos&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import com.example.appcolegios.R&#10;import com.example.appcolegios.demo.DemoData&#10;import com.example.appcolegios.data.UserPreferencesRepository&#10;import com.example.appcolegios.perfil.ProfileViewModel&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import kotlinx.coroutines.tasks.await&#10;import java.text.SimpleDateFormat&#10;import java.util.*&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.RadioButton&#10;import androidx.compose.material3.TextButton&#10;&#10;// Nuevo modelo simple para pagos&#10;data class Pago(&#10;    val id: String = &quot;&quot;,&#10;    val titulo: String = &quot;&quot;,&#10;    val monto: Double = 0.0,&#10;    val fecha: Date = Date(),&#10;    val estado: String = &quot;&quot;,&#10;    val observaciones: String = &quot;&quot;,&#10;    val studentId: String = &quot;&quot;&#10;)&#10;&#10;@Composable&#10;fun PaymentsScreen() {&#10;    val context = LocalContext.current&#10;    val isDemo = DemoData.isDemoUser()&#10;&#10;    // Obtener usuario y perfil para soporte de padres&#10;    val userPrefs = UserPreferencesRepository(context)&#10;    val userData by userPrefs.userData.collectAsState(initial = com.example.appcolegios.data.UserData(null, null, null))&#10;    val role = userData.role ?: &quot;&quot;&#10;    val profileVm: ProfileViewModel = viewModel()&#10;    val children by profileVm.children.collectAsState()&#10;    val isParent = (userData.role ?: &quot;&quot;).equals(&quot;PARENT&quot;, ignoreCase = true) || (userData.role ?: &quot;&quot;).equals(&quot;PADRE&quot;, ignoreCase = true)&#10;&#10;    val auth = FirebaseAuth.getInstance()&#10;    val firestore = FirebaseFirestore.getInstance()&#10;&#10;    var showSelectChildDialog by remember { mutableStateOf(false) }&#10;    var selectedChildIndex by remember { mutableStateOf(0) }&#10;&#10;    var payments by remember { mutableStateOf&lt;List&lt;Pago&gt;&gt;(emptyList()) }&#10;    var loading by remember { mutableStateOf(false) }&#10;    var errorMsg by remember { mutableStateOf&lt;String?&gt;(null) }&#10;&#10;    val currentUserId = auth.currentUser?.uid&#10;&#10;    // Determinar id objetivo: si es padre, usar el hijo seleccionado; si no, usar usuario actual&#10;    val targetId = if (isParent) children.getOrNull(selectedChildIndex)?.id else currentUserId&#10;&#10;    LaunchedEffect(targetId) {&#10;        payments = emptyList()&#10;        if (targetId == null) return@LaunchedEffect&#10;        loading = true&#10;        errorMsg = null&#10;        try {&#10;            val baseQuery = firestore.collection(&quot;pagos&quot;).whereEqualTo(&quot;studentId&quot;, targetId).orderBy(&quot;fecha&quot;, com.google.firebase.firestore.Query.Direction.DESCENDING)&#10;            val query = baseQuery // no filtros adicionales por ahora, patrón inmutable aplicado&#10;            val snaps = query.get().await()&#10;            val list = mutableListOf&lt;Pago&gt;()&#10;            for (doc in snaps.documents) {&#10;                val id = doc.id&#10;                val titulo = doc.getString(&quot;titulo&quot;) ?: doc.getString(&quot;title&quot;) ?: &quot;Pago&quot;&#10;                val monto = (doc.getDouble(&quot;monto&quot;) ?: doc.getLong(&quot;monto&quot;)?.toDouble()) ?: 0.0&#10;                val fecha = doc.getTimestamp(&quot;fecha&quot;)?.toDate() ?: Date()&#10;                val estado = doc.getString(&quot;estado&quot;) ?: doc.getString(&quot;status&quot;) ?: &quot;Pendiente&quot;&#10;                val obs = doc.getString(&quot;observaciones&quot;) ?: doc.getString(&quot;observations&quot;) ?: &quot;&quot;&#10;                val studentId = doc.getString(&quot;studentId&quot;) ?: &quot;&quot;&#10;                list.add(Pago(id, titulo, monto, fecha, estado, obs, studentId))&#10;            }&#10;            payments = list&#10;        } catch (e: Exception) {&#10;            errorMsg = e.message&#10;        } finally {&#10;            loading = false&#10;        }&#10;    }&#10;&#10;    Surface(&#10;        modifier = Modifier.fillMaxSize(),&#10;        color = MaterialTheme.colorScheme.background&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.fillMaxSize().padding(16.dp),&#10;            verticalArrangement = Arrangement.Top,&#10;            horizontalAlignment = Alignment.CenterHorizontally&#10;        ) {&#10;            if (isDemo) {&#10;                DemoPaymentsCard()&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;            }&#10;&#10;            // Selector de hijo si es padre&#10;            if (isParent) {&#10;                Card(&#10;                    modifier = Modifier.fillMaxWidth().clickable(enabled = children.isNotEmpty()) { showSelectChildDialog = true },&#10;                    colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.primaryContainer)&#10;                ) {&#10;                    Row(modifier = Modifier.padding(16.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                        val name = if (children.isNotEmpty()) children.getOrNull(selectedChildIndex)?.nombre ?: &quot;--&quot; else &quot;--&quot;&#10;                        Text(name, style = MaterialTheme.typography.titleLarge, fontWeight = FontWeight.Bold, color = MaterialTheme.colorScheme.onPrimaryContainer)&#10;                    }&#10;                }&#10;                Spacer(Modifier.height(12.dp))&#10;&#10;                if (showSelectChildDialog) {&#10;                    var sel by remember { mutableStateOf(selectedChildIndex) }&#10;                    AlertDialog(onDismissRequest = { showSelectChildDialog = false }, title = { Text(&quot;Selecciona estudiante&quot;) }, text = {&#10;                        Column {&#10;                            if (children.isEmpty()) Text(&quot;No hay hijos asociados&quot;) else children.forEachIndexed { idx, ch -&gt;&#10;                                Row(modifier = Modifier.fillMaxWidth().padding(vertical = 6.dp).clickable { sel = idx }, verticalAlignment = Alignment.CenterVertically) {&#10;                                    RadioButton(selected = sel == idx, onClick = { sel = idx })&#10;                                    Spacer(Modifier.width(8.dp))&#10;                                    Column {&#10;                                        Text(ch.nombre, fontWeight = FontWeight.SemiBold)&#10;                                        Text(&quot;Curso: ${ch.curso}&quot;, style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;                                    }&#10;                                }&#10;                            }&#10;                        }&#10;                    }, confirmButton = {&#10;                        TextButton(onClick = {&#10;                            if (children.isNotEmpty()) selectedChildIndex = sel&#10;                            showSelectChildDialog = false&#10;                        }) { Text(&quot;Aceptar&quot;) }&#10;                    }, dismissButton = {&#10;                        TextButton(onClick = { showSelectChildDialog = false }) { Text(&quot;Cancelar&quot;) }&#10;                    })&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            Text(&#10;                text = &quot;Información de Pagos&quot;,&#10;                style = MaterialTheme.typography.headlineMedium,&#10;                color = MaterialTheme.colorScheme.onBackground&#10;            )&#10;&#10;            Spacer(Modifier.height(12.dp))&#10;&#10;            if (loading) {&#10;                androidx.compose.material3.CircularProgressIndicator()&#10;            } else if (errorMsg != null) {&#10;                Text(errorMsg ?: &quot;Error desconocido&quot;, color = MaterialTheme.colorScheme.error)&#10;            } else if (payments.isEmpty()) {&#10;                Text(&quot;No hay pagos registrados.&quot;)&#10;            } else {&#10;                LazyColumn(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    items(payments) { pago -&gt;&#10;                        PaymentCard(pago)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PaymentCard(pago: Pago) {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surface)&#10;    ) {&#10;        Column(modifier = Modifier.fillMaxWidth().padding(16.dp)) {&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Column(modifier = Modifier.weight(1f)) {&#10;                    Text(pago.titulo, style = MaterialTheme.typography.titleLarge, fontWeight = FontWeight.Bold)&#10;                    Text(SimpleDateFormat(&quot;dd MMM yyyy&quot;, Locale.getDefault()).format(pago.fecha), style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;                }&#10;                Text(String.format(Locale.getDefault(), &quot;$ %.2f&quot;, pago.monto), style = MaterialTheme.typography.titleMedium, fontWeight = FontWeight.SemiBold)&#10;            }&#10;&#10;            Spacer(Modifier.height(8.dp))&#10;            HorizontalDivider()&#10;            Spacer(Modifier.height(8.dp))&#10;&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Text(pago.estado, style = MaterialTheme.typography.bodyMedium)&#10;                if (pago.observaciones.isNotEmpty()) Text(pago.observaciones, style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.appcolegios.pagos&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import com.example.appcolegios.demo.DemoData&#10;import com.example.appcolegios.data.UserPreferencesRepository&#10;import com.example.appcolegios.perfil.ProfileViewModel&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import kotlinx.coroutines.tasks.await&#10;import java.text.SimpleDateFormat&#10;import java.util.*&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.RadioButton&#10;import androidx.compose.material3.TextButton&#10;&#10;// Nuevo modelo simple para pagos&#10;data class Pago(&#10;    val id: String = &quot;&quot;,&#10;    val titulo: String = &quot;&quot;,&#10;    val monto: Double = 0.0,&#10;    val fecha: Date = Date(),&#10;    val estado: String = &quot;&quot;,&#10;    val observaciones: String = &quot;&quot;,&#10;    val studentId: String = &quot;&quot;&#10;)&#10;&#10;@Composable&#10;fun PaymentsScreen() {&#10;    val context = LocalContext.current&#10;    val isDemo = DemoData.isDemoUser()&#10;&#10;    // Obtener usuario y perfil para soporte de padres&#10;    val userPrefs = UserPreferencesRepository(context)&#10;    val userData by userPrefs.userData.collectAsState(initial = com.example.appcolegios.data.UserData(null, null, null))&#10;    val profileVm: ProfileViewModel = viewModel()&#10;    val children by profileVm.children.collectAsState()&#10;    val isParent = (userData.role ?: &quot;&quot;).equals(&quot;PARENT&quot;, ignoreCase = true) || (userData.role ?: &quot;&quot;).equals(&quot;PADRE&quot;, ignoreCase = true)&#10;&#10;    val auth = FirebaseAuth.getInstance()&#10;    val firestore = FirebaseFirestore.getInstance()&#10;&#10;    var showSelectChildDialog by remember { mutableStateOf(false) }&#10;    var selectedChildIndex by remember { mutableStateOf(0) }&#10;&#10;    var payments by remember { mutableStateOf&lt;List&lt;Pago&gt;&gt;(emptyList()) }&#10;    var loading by remember { mutableStateOf(false) }&#10;    var errorMsg by remember { mutableStateOf&lt;String?&gt;(null) }&#10;&#10;    val currentUserId = auth.currentUser?.uid&#10;&#10;    // Determinar id objetivo: si es padre, usar el hijo seleccionado; si no, usar usuario actual&#10;    val targetId = if (isParent) children.getOrNull(selectedChildIndex)?.id else currentUserId&#10;&#10;    LaunchedEffect(targetId) {&#10;        payments = emptyList()&#10;        if (targetId == null) return@LaunchedEffect&#10;        loading = true&#10;        errorMsg = null&#10;        try {&#10;            val baseQuery = firestore.collection(&quot;pagos&quot;).whereEqualTo(&quot;studentId&quot;, targetId).orderBy(&quot;fecha&quot;, com.google.firebase.firestore.Query.Direction.DESCENDING)&#10;            val query = baseQuery // no filtros adicionales por ahora, patrón inmutable aplicado&#10;            val snaps = query.get().await()&#10;            val list = mutableListOf&lt;Pago&gt;()&#10;            for (doc in snaps.documents) {&#10;                val id = doc.id&#10;                val titulo = doc.getString(&quot;titulo&quot;) ?: doc.getString(&quot;title&quot;) ?: &quot;Pago&quot;&#10;                val monto = (doc.getDouble(&quot;monto&quot;) ?: doc.getLong(&quot;monto&quot;)?.toDouble()) ?: 0.0&#10;                val fecha = doc.getTimestamp(&quot;fecha&quot;)?.toDate() ?: Date()&#10;                val estado = doc.getString(&quot;estado&quot;) ?: doc.getString(&quot;status&quot;) ?: &quot;Pendiente&quot;&#10;                val obs = doc.getString(&quot;observaciones&quot;) ?: doc.getString(&quot;observations&quot;) ?: &quot;&quot;&#10;                val studentId = doc.getString(&quot;studentId&quot;) ?: &quot;&quot;&#10;                list.add(Pago(id, titulo, monto, fecha, estado, obs, studentId))&#10;            }&#10;            payments = list&#10;        } catch (e: Exception) {&#10;            errorMsg = e.message&#10;        } finally {&#10;            loading = false&#10;        }&#10;    }&#10;&#10;    Surface(&#10;        modifier = Modifier.fillMaxSize(),&#10;        color = MaterialTheme.colorScheme.background&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.fillMaxSize().padding(16.dp),&#10;            verticalArrangement = Arrangement.Top,&#10;            horizontalAlignment = Alignment.CenterHorizontally&#10;        ) {&#10;            if (isDemo) {&#10;                DemoPaymentsCard()&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;            }&#10;&#10;            // Selector de hijo si es padre&#10;            if (isParent) {&#10;                Card(&#10;                    modifier = Modifier.fillMaxWidth().clickable(enabled = children.isNotEmpty()) { showSelectChildDialog = true },&#10;                    colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.primaryContainer)&#10;                ) {&#10;                    Row(modifier = Modifier.padding(16.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                        val name = if (children.isNotEmpty()) children.getOrNull(selectedChildIndex)?.nombre ?: &quot;--&quot; else &quot;--&quot;&#10;                        Text(name, style = MaterialTheme.typography.titleLarge, fontWeight = FontWeight.Bold, color = MaterialTheme.colorScheme.onPrimaryContainer)&#10;                    }&#10;                }&#10;                Spacer(Modifier.height(12.dp))&#10;&#10;                if (showSelectChildDialog) {&#10;                    var sel by remember { mutableStateOf(selectedChildIndex) }&#10;                    AlertDialog(onDismissRequest = { showSelectChildDialog = false }, title = { Text(&quot;Selecciona estudiante&quot;) }, text = {&#10;                        Column {&#10;                            if (children.isEmpty()) Text(&quot;No hay hijos asociados&quot;) else children.forEachIndexed { idx, ch -&gt;&#10;                                Row(modifier = Modifier.fillMaxWidth().padding(vertical = 6.dp).clickable { sel = idx }, verticalAlignment = Alignment.CenterVertically) {&#10;                                    RadioButton(selected = sel == idx, onClick = { sel = idx })&#10;                                    Spacer(Modifier.width(8.dp))&#10;                                    Column {&#10;                                        Text(ch.nombre, fontWeight = FontWeight.SemiBold)&#10;                                        Text(&quot;Curso: ${ch.curso}&quot;, style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;                                    }&#10;                                }&#10;                            }&#10;                        }&#10;                    }, confirmButton = {&#10;                        TextButton(onClick = {&#10;                            if (children.isNotEmpty()) selectedChildIndex = sel&#10;                            showSelectChildDialog = false&#10;                        }) { Text(&quot;Aceptar&quot;) }&#10;                    }, dismissButton = {&#10;                        TextButton(onClick = { showSelectChildDialog = false }) { Text(&quot;Cancelar&quot;) }&#10;                    })&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            Text(&#10;                text = &quot;Información de Pagos&quot;,&#10;                style = MaterialTheme.typography.headlineMedium,&#10;                color = MaterialTheme.colorScheme.onBackground&#10;            )&#10;&#10;            Spacer(Modifier.height(12.dp))&#10;&#10;            if (loading) {&#10;                androidx.compose.material3.CircularProgressIndicator()&#10;            } else if (errorMsg != null) {&#10;                Text(errorMsg ?: &quot;Error desconocido&quot;, color = MaterialTheme.colorScheme.error)&#10;            } else if (payments.isEmpty()) {&#10;                Text(&quot;No hay pagos registrados.&quot;)&#10;            } else {&#10;                LazyColumn(verticalArrangement = Arrangement.spacedBy(12.dp)) {&#10;                    items(payments) { pago -&gt;&#10;                        PaymentCard(pago)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PaymentCard(pago: Pago) {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surface)&#10;    ) {&#10;        Column(modifier = Modifier.fillMaxWidth().padding(16.dp)) {&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Column(modifier = Modifier.weight(1f)) {&#10;                    Text(pago.titulo, style = MaterialTheme.typography.titleLarge, fontWeight = FontWeight.Bold)&#10;                    Text(SimpleDateFormat(&quot;dd MMM yyyy&quot;, Locale.getDefault()).format(pago.fecha), style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;                }&#10;                Text(String.format(Locale.getDefault(), &quot;$ %.2f&quot;, pago.monto), style = MaterialTheme.typography.titleMedium, fontWeight = FontWeight.SemiBold)&#10;            }&#10;&#10;            Spacer(Modifier.height(8.dp))&#10;            HorizontalDivider()&#10;            Spacer(Modifier.height(8.dp))&#10;&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Text(pago.estado, style = MaterialTheme.typography.bodyMedium)&#10;                if (pago.observaciones.isNotEmpty()) Text(pago.observaciones, style = MaterialTheme.typography.bodySmall, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DemoPaymentsCard() {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = MaterialTheme.colorScheme.surface),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp)&#10;    ) {&#10;        Column(modifier = Modifier.padding(16.dp)) {&#10;            Text(&#10;                text = &quot;Resumen de pagos (Demo)&quot;,&#10;                style = MaterialTheme.typography.titleMedium,&#10;                fontWeight = FontWeight.SemiBold,&#10;                color = MaterialTheme.colorScheme.onSurface&#10;            )&#10;            Spacer(Modifier.height(12.dp))&#10;            HorizontalDivider()&#10;            Spacer(Modifier.height(12.dp))&#10;            Row(Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Text(&quot;Pensión Octubre&quot;, color = MaterialTheme.colorScheme.onSurface)&#10;                Text(&quot;$ 250.000&quot;, fontWeight = FontWeight.Medium, color = MaterialTheme.colorScheme.onSurface)&#10;            }&#10;            Spacer(Modifier.height(6.dp))&#10;            Row(Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                Text(&quot;Estado&quot;, color = MaterialTheme.colorScheme.onSurfaceVariant)&#10;                Text(&quot;Pendiente&quot;, fontWeight = FontWeight.Medium, color = MaterialTheme.colorScheme.error)&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>